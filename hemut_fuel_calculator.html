<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Hemut Fuel Savings Calculator</title>
<style>
  body {font-family: system-ui, sans-serif; background:#0b1220; color:#eaf2ff; margin:0; padding:2rem;}
  .container {max-width: 1000px; margin:auto;}
  h1 {font-size:2rem; color:#ffc300; text-align:center; margin-bottom:1.5rem;}
  .inputs {display:grid; grid-template-columns:repeat(3,1fr); gap:1rem;}
  .adoption {grid-column: span 3;}
  .card {background:#0f1b33; border:1px solid #1f2a44; border-radius:12px; padding:1rem;}
  label {display:block; font-size:0.9rem; color:#9bb0d1; margin-bottom:0.25rem;}
  input[type=number], input[type=range] {width:100%; padding:0.5rem; border-radius:8px; border:1px solid #1f2a44; background:#0a0f1f; color:#eaf2ff;}
  .pill {display:inline-block; padding:2px 10px; border-radius:999px; border:1px solid #1f2a44; background:#0b1326; font-weight:600;}
  .outputs {display:grid; grid-template-columns:repeat(3,1fr); gap:1rem; margin-top:1.5rem;}
  .output {background:#0c162b; border:1px solid #1f2a44; border-radius:12px; padding:1rem; text-align:center;}
  .output h3 {margin:0; color:#9bb0d1; font-size:0.9rem;}
  .output .val {font-size:1.5rem; font-weight:700; color:#ffc300;}
</style>
</head>
<body>
<div class="container">
  <h1>Hemut Fuel Savings Calculator</h1>
  <div class="inputs">
    <div class="card"><label>Fleet Size</label><input id="fleet" type="number" value="10" min="0" step="1"></div>
    <div class="card"><label>Miles per Truck per Month</label><input id="milesPerTruck" type="number" value="8000" min="0" step="100"></div>
    <div class="card"><label>Average MPG</label><input id="mpg" type="number" value="6.5" min="0.1" step="0.1"></div>
    <div class="card"><label>Retail Fuel Price ($/gal)</label><input id="retailPrice" type="number" value="4.50" min="0" step="0.01"></div>
    <div class="card"><label>Hemut Discount ($)</label><input id="discount" type="number" value="0.30" min="0" step="0.01"></div>
    <div class="card"><label>Monthly Fee ($)</label><input id="monthlyFee" type="number" value="250" min="0" step="1"></div>
    <div class="card adoption"><label>Adoption Rate (%)</label><input id="adoption" type="range" min="0" max="100" step="5" value="60"><div><span class="pill" id="adoptionBadge">60%</span></div></div>
  </div>

  <div class="outputs">
    <div class="output"><h3>Gallons Per Month</h3><div id="gpm" class="val">0</div></div>
    <div class="output"><h3>Gallons on Hemut Fuel Card</h3><div id="gallonsHemut" class="val">0</div></div>
    <div class="output"><h3>Gross Savings ($)</h3><div id="grossSavings" class="val">$0</div></div>
    <div class="output"><h3>Net Savings ($)</h3><div id="netSavingsVal" class="val">$0</div></div>
    <div class="output"><h3>ROI (%)</h3><div id="roiVal" class="val">0%</div></div>
    <div class="output"><h3>Break-Even Adoption (%)</h3><div id="breakEven" class="val">0%</div></div>
  </div>
</div>
<script>
const $ = id => document.getElementById(id);
const nf = new Intl.NumberFormat('en-US',{maximumFractionDigits:0});
const nfc = new Intl.NumberFormat('en-US',{style:'currency',currency:'USD',maximumFractionDigits:0});
const nfp = new Intl.NumberFormat('en-US',{style:'percent',maximumFractionDigits:1});

function compute(){
  const fleet = +$('fleet').value || 0;
  const milesPerTruck = +$('milesPerTruck').value || 0;
  const mpg = Math.max(0.0001,+$('mpg').value||0);
  const retail = +$('retailPrice').value || 0;
  const discount = +$('discount').value || 0;
  const monthlyFee = +$('monthlyFee').value || 0;
  const adoptionPct = +$('adoption').value/100;

  $('adoptionBadge').textContent = Math.round(adoptionPct*100)+"%";
  const gallonsPerMonth = fleet * milesPerTruck / mpg;
  const gallonsHemut = gallonsPerMonth * adoptionPct;
  const grossSavings = gallonsHemut * discount;
  const netSavings = grossSavings - monthlyFee;
  const roi = monthlyFee>0 ? netSavings/monthlyFee : 0;
  const breakEven = monthlyFee / ((gallonsPerMonth * discount)||1);

  $('gpm').textContent = nf.format(gallonsPerMonth);
  $('gallonsHemut').textContent = nf.format(gallonsHemut);
  $('grossSavings').textContent = nfc.format(grossSavings);
  $('netSavingsVal').textContent = nfc.format(netSavings);
  $('roiVal').textContent = nfp.format(roi);
  $('breakEven').textContent = nfp.format(breakEven);
}

['fleet','milesPerTruck','mpg','retailPrice','discount','monthlyFee','adoption'].forEach(id=>$ (id).addEventListener('input',compute));
compute();
</script>
</body>
</html>
